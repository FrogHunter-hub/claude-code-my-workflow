# Plan: Section IV.B — Cross-Technology Belief Spillover

**Status:** DRAFT
**Date:** 2026-02-13
**Section:** IV.B. Cross-Technology Belief Spillover

---

## Context

Section IV.A shows 60–74% of cause/effect share variation is firm-level. IV.B tests whether this firm-level component is **portable** across technologies: does a firm's causal frame for technology A predict its frame for technology B? This is the belief-spillover test. The diagnostic expectations prediction (Bordalo, Gennaioli, Shleifer 2018) is that spillover should be strongest between similar technologies.

**Data:** 787 multi-tech firms (≥2 technologies), 7,390 observations. 285 firms have ≥2 techs in the same quarter (1,388 obs).

---

## Approach

### Step 1: Create `src/py/06_table_IVB_spillover.py`

All-in-one Python script using `linearmodels.AbsorbingLS` for FE regressions (available in the Technology conda env as `linearmodels` 7.0).

**Data preparation:**

1. Load `data_processed/panel_ikt.csv`, restrict to multi-tech firms (≥2 technologies all-time → 787 firms, 7,390 obs)
2. For each observation (i,k,t), compute **leave-one-out peer shares**:
   - `peer_cause_c(i,k)` = mean of `share_cause_c` across all firm i observations for technologies j ≠ k
   - Implementation: firm-level sum minus own-tech sum, divided by (firm N − own-tech N)
3. For **first-appearance test**: identify first quarter per (firm, tech); peer = firm's average from other techs in quarters ≤ first quarter
4. For **similarity test**: cosine similarity of aggregate cause-share profiles between all tech pairs; split at median into high/low similarity

**Stacked regression specification:**

Reshape to long: 5 rows per obs (one per cause category c). Gives ~36,950 stacked rows.

$$s^{\text{cause}}_{ikt,c} = \beta \, \bar{s}^{\text{cause},\neg k}_{i,c} + \alpha_k + \gamma_t + \delta_c + \varepsilon_{ikt,c}$$

where $\bar{s}^{\text{cause},\neg k}_{i,c}$ is the leave-one-out peer share. Cluster SE at firm level.

**Six columns (cause side; repeat for effect side):**

| Col | FE | Sample | Purpose |
|-----|-----|--------|---------|
| (I) | Tech + Quarter + Category | All multi-tech | Baseline |
| (II) | Tech + Ind×Quarter + Category | All multi-tech | Absorb industry cycles |
| (III) | Tech + Ind×Quarter + Category + Firm | All multi-tech | Most demanding |
| (IV) | Tech + Quarter + Category | First appearance only | Portability test |
| (V) | Tech + Quarter + Category | High-similarity pairs | Representativeness |
| (VI) | Tech + Quarter + Category | Low-similarity pairs | Representativeness |

**Outputs:**
- `results/tables/table_IVB_spillover.csv`
- `Overleaf/Tables/spillover.tex`
- `results/runs/06_table_IVB_spillover_<timestamp>.json`

### Step 2: Add table to `Overleaf/Tables/alltables.tex`

Append after vardecomp:
```latex
\clearpage
\input{Tables/spillover}
```

### Step 3: Write IV.B prose in `Overleaf/main.tex` (line 330)

Replace the `\note{}` with ~6 paragraphs:

1. **Motivation:** Table V shows firm-level variation dominates. Is it a portable cognitive style or technology-specific idiosyncrasy? Test: does firm's frame for tech A predict its frame for tech B?
2. **Specification:** Introduce the leave-one-out peer share and stacked regression (Eq. X). Define notation matching $s^{\text{cause}}_{ikt,c}$ from Section II.D. Describe multi-tech sample (787 firms, 7,390 obs).
3. **Main results (cols I–III):** Positive and significant β. Survives industry×quarter FE and firm FE. Interpret magnitude.
4. **First-appearance test (col IV):** When firm first discusses a new technology, its initial frame resembles its existing portfolio. Most direct test of portability.
5. **Similarity interaction (cols V–VI):** Following the representativeness logic of \citet{BordaloGennaioli2018}, spillover is significantly stronger for similar technologies. Firms apply familiar causal templates to representative technologies.
6. **Effect side (Panel B):** Same pattern, briefly.

### Step 4: Verify

- Run script, check all 12 regressions complete (6 cause + 6 effect)
- Verify β > 0 in all specifications
- Check observation counts match expectations
- Run proofreader on prose

---

## Files to Create/Modify

| File | Action |
|------|--------|
| `src/py/06_table_IVB_spillover.py` | **Create** — data prep + regressions + table export |
| `Overleaf/Tables/spillover.tex` | **Create** (generated by script) |
| `results/tables/table_IVB_spillover.csv` | **Create** (underlying data) |
| `results/runs/06_table_IVB_spillover_<timestamp>.json` | **Create** (manifest) |
| `Overleaf/Tables/alltables.tex` | **Modify** — add `\input{Tables/spillover}` |
| `Overleaf/main.tex` | **Modify** — replace IV.B `\note{}` with prose + equation |

---

## Key Design Decisions

1. **All-Python implementation** (not Python+Stata hybrid): `linearmodels.AbsorbingLS` handles multi-way FE cleanly, avoids coordination overhead, and the data manipulation (leave-one-out, stacking, similarity matrix) is much cleaner in pandas.

2. **Stacked regression** (not 5 separate regressions): One coefficient per specification column → compact table. Category FE absorb level differences. Individual-share results available in the code output for appendix if needed.

3. **All-time peer shares** (not within-quarter only): Uses full 7,390 obs from 787 multi-tech firms. Within-quarter approach has only 1,388 obs, limiting power.

4. **Technology-level leave-out** (not observation-level): Peer excludes ALL observations for the same technology k, not just the current observation. This avoids mechanical correlation from within-tech persistence.

5. **Cosine similarity** for technology pairing: Computed from aggregate cause-share profiles (pooled across all firms). Split at median for high/low similarity subsamples.

---

## Verification

1. `conda run -n Technology python src/py/06_table_IVB_spillover.py`
2. All β coefficients positive and significant at 5% level
3. Column (V) coefficient > column (VI) coefficient (representativeness prediction)
4. LaTeX table compiles, matches `vardecomp.tex` style (`\hline\hline`, `\textsc{Panel}`, notes)
5. Observation counts: ~36,950 stacked cause rows, ~36,950 stacked effect rows
6. Run proofreader on prose
